var ImixsForms=(()=>{var p=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var y=(l,e)=>{for(var t in e)p(l,t,{get:e[t],enumerable:!0})},L=(l,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of b(e))!x.call(l,r)&&r!==t&&p(l,r,{get:()=>e[r],enumerable:!(n=v(e,r))||n.enumerable});return l};var X=l=>L(p({},"__esModule",{value:!0}),l);var I={};y(I,{ImixsFormController:()=>w});var u=class{constructor(e={}){let t=new URLSearchParams(window.location.search);this.config={baseUrl:e.baseUrl||"/api",credentials:e.credentials||{},workflowEndpoint:e.workflowEndpoint||"workflow/workitem",mockMode:e.mockMode||!1},this.workitemId=t.get("workitem"),this.workitemId||(this.config.modelversion=t.get("modelversion")||e.modelversion||"1.0.0",this.config.taskid=t.get("taskid")||e.taskid||"1000",this.config.eventid=t.get("eventid")||e.eventid||"10"),this.namespaces={xsi:"http://www.w3.org/2001/XMLSchema-instance",xs:"http://www.w3.org/2001/XMLSchema"},this.taskXML=null,this.eventsXML=null,this.workitemXML=null}async initialize(){this.workitemId?(await this.loadWorkitem(this.workitemId),this.config.modelversion=this.getItemValue("$modelversion",this.workitemXML)?.value,this.config.taskid=this.getItemValue("$taskid",this.workitemXML)?.value):this.workitemXML=this.createDocument(),await this.loadTaskDefinition(),await this.loadTaskEvents()}async loadTaskDefinition(){try{let e=this.getApiUrl(`model/${this.config.modelversion}/tasks/${this.config.taskid}?format=xml&items=name,dataobjects,workflow.abstract,documentation`),n=await(await this.fetchData(e)).text();return this.taskXML=this.parseXMLString(n),this.taskXML}catch(e){throw console.error("Error loading task definition:",e),e}}async loadTaskEvents(){try{let e=this.getApiUrl(`model/${this.config.modelversion}/tasks/${this.config.taskid}/events?format=xml&items=eventid,workflow.public,name`),n=await(await this.fetchData(e)).text();return this.eventsXML=this.parseXMLString(n),this.eventsXML}catch(e){throw console.error("Error loading task events:",e),e}}async loadWorkitem(e){try{let t=this.getApiUrl(`workflow/workitem/${e}`),r=await(await this.fetchData(t)).text(),i=this.parseXMLString(r).getElementsByTagName("document")[0],m=this.createDocument(),s=m.documentElement;for(let o of i.attributes)s.setAttribute(o.name,o.value);return s.innerHTML=i.innerHTML,this.workitemXML=m,m}catch(t){throw console.error("Error loading workitem:",t),t}}getFormDefinition(){let e=null;if(this.taskXML){let t=this.getItemValue("dataobjects",this.taskXML);t&&t[0]?.value==="Form"&&t[1]?.value&&(e=t[1].value,console.debug("Found form definition in task"),this.workitemXML&&(this.setItemValue("txtworkfloweditorcustomform",e,null,this.workitemXML),console.debug("Saved form definition to workitem")))}if(!e&&this.workitemXML){let t=this.getItemValue("txtworkfloweditorcustomform",this.workitemXML);t?.value&&(e=t.value,console.debug("Found form definition in workitem"))}return e?e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):null}async fetchData(e,t={}){let n={Accept:"application/xml",...t.headers||{}};this.config.credentials.username&&(n.Authorization="Basic "+btoa(`${this.config.credentials.username}:${this.config.credentials.password}`));let r=await fetch(e,{...t,headers:n});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return r}getApiUrl(e){return`${this.config.baseUrl}/${e}`}parseXMLString(e){return new DOMParser().parseFromString(e,"text/xml")}createDocument(){let e=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<document xmlns:xsi="`+this.namespaces.xsi+'" xmlns:xs="'+this.namespaces.xs+'"/>';return new DOMParser().parseFromString(e,"text/xml")}getItemValue(e,t=this.xmlDoc){let n=t.querySelector(`item[name="${e}"]`);if(!n)return null;let a=Array.from(n.getElementsByTagName("value")).map(i=>{let m=i.getAttribute("xsi:type");return m==="xmlItem"?Array.from(i.getElementsByTagName("value")).map(o=>({value:o.textContent,type:o.getAttribute("xsi:type")})):{value:i.textContent,type:m}}).flat();return a.length===1?a[0]:a}setItemValue(e,t,n=null,r=this.workitemXML){n||(n=this._determineXMLType(t));let a=r.querySelector(`item[name="${e}"]`);a?a.innerHTML="":(a=r.createElement("item"),a.setAttribute("name",e),r.documentElement.appendChild(a));let i=r.createElement("value");i.setAttribute("xsi:type",n),typeof t=="string"&&(t=t.trim()),i.textContent=t,a.appendChild(i)}_determineXMLType(e){return typeof e=="boolean"?"xs:boolean":typeof e=="number"?Number.isInteger(e)?"xs:int":"xs:double":"xs:string"}getDocuments(){return Array.from(this.xmlDoc.getElementsByTagName("document"))}toXMLString(e){return e?new XMLSerializer().serializeToString(e):(console.error("No XML document provided to toXMLString"),"")}};var h=class{constructor(e){this.dataManager=e}async getTaskDefinition(){try{return await this.dataManager.loadTaskDefinition()}catch(e){throw console.error("Error fetching task definition:",e),e}}async getTaskEvents(){try{return await this.dataManager.loadTaskEvents(),Array.from(this.dataManager.eventsXML.getElementsByTagName("document")).map(e=>({eventid:this.dataManager.getItemValue("eventid",e)?.value,name:this.dataManager.getItemValue("name",e)?.value,"workflow.public":this.dataManager.getItemValue("workflow.public",e)?.value==="true"})).filter(e=>e.name&&e["workflow.public"])}catch(e){throw console.error("Error fetching task events:",e),e}}getFormDefinition(){return this.dataManager.getFormDefinition()}};var g=class{constructor(e){this.dataManager=e}async parseFormDefinition(e){let n=this.dataManager.parseXMLString(e).getElementsByTagName("imixs-form-section"),r=[];for(let a of n){let i={label:a.getAttribute("label"),items:[]},m=a.getElementsByTagName("item");for(let s of m)i.items.push({name:s.getAttribute("name"),type:s.getAttribute("type"),label:s.getAttribute("label"),span:parseInt(s.getAttribute("span"))||12});r.push(i)}return r}renderForm(e,t,n=[]){let r=document.getElementById(t);if(!r){console.error(`Container element with id '${t}' not found`);return}let a=document.createElement("form");a.className="imixs-form",this._buildHeader(a),e.forEach(i=>{let m=document.createElement("div");m.className="imixs-form-section";let s=document.createElement("h3");s.textContent=i.label,m.appendChild(s);let o=document.createElement("div");o.className="imixs-form-items",i.items.forEach(c=>{let d=document.createElement("div");d.className=`imixs-form-item span-${c.span}`;let M=document.createElement("label");M.textContent=c.label,d.appendChild(M);let k=this._createInputElement(c),E=this.dataManager.getItemValue(c.name,this.dataManager.workitemXML)?.value;E&&(k.value=E),d.appendChild(k),o.appendChild(d)}),m.appendChild(o),a.appendChild(m)}),this._buildActionButtons(a,n),a.addEventListener("submit",i=>{let s=i.submitter?.dataset?.eventid||this.dataManager.config.eventid;this._handleSubmit(i,s)}),r.innerHTML="",r.appendChild(a)}_buildHeader(e){let t=this.dataManager.getItemValue("$workflowgroup",this.dataManager.workitemXML)?.value||"",n=this.dataManager.getItemValue("$workflowstatus",this.dataManager.workitemXML)?.value||"";n!=""&&(t=t+" - "+n);let r=this.dataManager.getItemValue("$workflowsummary",this.dataManager.workitemXML)?.value||"";t===""&&(t=this.dataManager.getItemValue("name",this.dataManager.taskXML)?.value||"");let a=document.createElement("h2");a.textContent=`${t}`,e.appendChild(a);let i=document.createElement("p");i.textContent=`${r}`,e.appendChild(i)}_buildActionButtons(e,t){let n=document.createElement("div");n.className="imixs-form-buttons",t.forEach(r=>{if(r&&r["workflow.public"]===!0&&r.name){let a=document.createElement("button");a.type="submit",a.className="imixs-submit-button",a.textContent=r.name,a.dataset.eventid=r.eventid,n.appendChild(a)}}),t.length===0&&console.log("No Action events found"),e.appendChild(n)}_createInputElement(e){let t;switch(e.type){case"html":t=document.createElement("textarea");break;case"currency":t=document.createElement("input"),t.type="number",t.step="0.01";break;case"text":default:t=document.createElement("input"),t.type="text"}return t.name=e.name,t.className="imixs-input",t}async _handleSubmit(e,t){e.preventDefault();let n=new FormData(e.target);try{this.dataManager.setItemValue("$modelversion",this.dataManager.config.modelversion,null,this.dataManager.workitemXML),this.dataManager.setItemValue("$taskid",this.dataManager.config.taskid,null,this.dataManager.workitemXML),this.dataManager.setItemValue("$eventid",t,null,this.dataManager.workitemXML);for(let[o,c]of n.entries())this.dataManager.setItemValue(o,c,null,this.dataManager.workitemXML);if(this.dataManager.config.mockMode){console.log("Form Data:",Object.fromEntries(n)),console.log("Event ID:",t);let o=this.dataManager.toXMLString(this.dataManager.workitemXML);console.log("XML Document:",o),this._triggerEvent("formSubmitSuccess",{formData:Object.fromEntries(n),xmlDocument:o,eventId:t});return}let r=this.dataManager.getApiUrl(this.dataManager.config.workflowEndpoint),i=await(await this.dataManager.fetchData(r,{method:"POST",headers:{"Content-Type":"application/xml"},body:this.dataManager.toXMLString(this.dataManager.workitemXML)})).text(),m=this.dataManager.parseXMLString(i),s=this.dataManager.getItemValue("$uniqueid",m)?.value;if(s){let o=new URL(window.location.href);o.searchParams.set("workitem",s),o.searchParams.delete("eventid"),o.searchParams.delete("modelversion"),o.searchParams.delete("taskid"),this._triggerEvent("formSubmitSuccess",{result:i,uniqueId:s,redirectUrl:o.toString()}),window.location.href=o.toString()}else console.error("No uniqueid found in response"),this._triggerEvent("formSubmitError",{error:new Error("No uniqueid found in response")})}catch(r){console.error("Submit error:",r),this._triggerEvent("formSubmitError",{error:r})}}_triggerEvent(e,t){let n=new CustomEvent(e,{detail:t});document.dispatchEvent(n)}};var f=class{constructor(e={}){this.containerId=e.containerId||"error-container",this._ensureContainer()}_ensureContainer(){if(!document.getElementById(this.containerId)){let e=document.createElement("div");e.id=this.containerId,e.className="error-container",document.body.insertBefore(e,document.body.firstChild)}}showError(e,t={}){let n=document.getElementById(this.containerId),r=document.createElement("div");r.className=`error-box ${t.type||"error"}`;let a=document.createElement("div");a.className="error-header";let i=document.createElement("span"),m=t.type==="warning"?"Warning":t.type==="info"?"Info":"Error";i.textContent=m,a.appendChild(i);let s=document.createElement("button");s.innerHTML="&times;",s.onclick=()=>r.remove(),a.appendChild(s),r.appendChild(a);let o=document.createElement("div");return o.className="error-message",o.textContent=e,r.appendChild(o),n.appendChild(r),t.timeout&&setTimeout(()=>{r.parentNode&&r.remove()},t.timeout),r}showWarning(e,t={}){return this.showError(e,{...t,type:"warning"})}showInfo(e,t={}){return this.showError(e,{...t,type:"info"})}clearAll(){let e=document.getElementById(this.containerId);e.innerHTML=""}handleError(e){let t;e.name==="NetworkError"||e.message.includes("Failed to fetch")?t="Network error: Unable to connect to the server. Please check your connection.":e.message.includes("No form definition found")?t="No form definition found for the specified task. Please check model version and task ID.":t=`An error occurred: ${e.message}`,this.showError(t)}};var w=class{constructor(e,t={}){this.containerId=e,document.addEventListener("DOMContentLoaded",()=>this.init(t))}async init(e){try{this.errorManager=new f,this.dataManager=new u(e),this.modelManager=new h(this.dataManager),this.formManager=new g(this.dataManager),this._setupEventHandlers(),await this._initializeForm()}catch(t){this.errorManager.handleError(t)}}_setupEventHandlers(){document.addEventListener("formSubmitSuccess",e=>{console.log("Form data:",e.detail),this.errorManager.showInfo("Form submitted successfully!",{timeout:3e3})}),document.addEventListener("formSubmitError",e=>{this.errorManager.handleError(e.detail.error)})}async _initializeForm(){await this.dataManager.initialize();let e=this.modelManager.getFormDefinition();if(!e)throw new Error("No form definition found in task or workitem data");let t=await this.modelManager.getTaskEvents(),n=await this.formManager.parseFormDefinition(e);this.formManager.renderForm(n,this.containerId,t)}};return X(I);})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2pzL0ltaXhzRm9ybUNvbnRyb2xsZXIuanMiLCAiLi4vc3JjL2pzL0RhdGFNYW5hZ2VyLmpzIiwgIi4uL3NyYy9qcy9Nb2RlbE1hbmFnZXIuanMiLCAiLi4vc3JjL2pzL0Zvcm1NYW5hZ2VyLmpzIiwgIi4uL3NyYy9qcy9FcnJvck1hbmFnZXIuanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qKlxuICogVGhlIEltaXhzRm9ybUNvbnRyb2xsZXIgaXMgdGhlIG1haW4gY2xhc3MgdGhhdCBjYW4gYmUgdXNlZCB0byBpbml0aWFsaXplIGEgZm9ybSBpbiBhIFNpbmdsZSBQYWdlIEFwcGxpY2F0aW9uXG4gKi9cbmltcG9ydCB7IERhdGFNYW5hZ2VyIH0gZnJvbSBcIi4vRGF0YU1hbmFnZXIuanNcIjtcbmltcG9ydCB7IE1vZGVsTWFuYWdlciB9IGZyb20gXCIuL01vZGVsTWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgRm9ybU1hbmFnZXIgfSBmcm9tIFwiLi9Gb3JtTWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgRXJyb3JNYW5hZ2VyIH0gZnJvbSBcIi4vRXJyb3JNYW5hZ2VyLmpzXCI7XG5cbmNsYXNzIEltaXhzRm9ybUNvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcklkLCBjb25maWcgPSB7fSkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lcklkID0gY29udGFpbmVySWQ7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gdGhpcy5pbml0KGNvbmZpZykpO1xuICAgIH1cblxuICAgIGFzeW5jIGluaXQoY29uZmlnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIG1hbmFnZXJzXG4gICAgICAgICAgICB0aGlzLmVycm9yTWFuYWdlciA9IG5ldyBFcnJvck1hbmFnZXIoKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YU1hbmFnZXIgPSBuZXcgRGF0YU1hbmFnZXIoY29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMubW9kZWxNYW5hZ2VyID0gbmV3IE1vZGVsTWFuYWdlcih0aGlzLmRhdGFNYW5hZ2VyKTtcbiAgICAgICAgICAgIHRoaXMuZm9ybU1hbmFnZXIgPSBuZXcgRm9ybU1hbmFnZXIodGhpcy5kYXRhTWFuYWdlcik7XG5cbiAgICAgICAgICAgIC8vIFNldHVwIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgICAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcblxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBhbmQgcmVuZGVyIGZvcm1cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2luaXRpYWxpemVGb3JtKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yTWFuYWdlci5oYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZm9ybVN1Ym1pdFN1Y2Nlc3NcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRm9ybSBkYXRhOlwiLCBlLmRldGFpbCk7XG4gICAgICAgICAgICB0aGlzLmVycm9yTWFuYWdlci5zaG93SW5mbyhcIkZvcm0gc3VibWl0dGVkIHN1Y2Nlc3NmdWxseSFcIiwge1xuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDMwMDAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImZvcm1TdWJtaXRFcnJvclwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lcnJvck1hbmFnZXIuaGFuZGxlRXJyb3IoZS5kZXRhaWwuZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBfaW5pdGlhbGl6ZUZvcm0oKSB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgRGF0YU1hbmFnZXJcbiAgICAgICAgYXdhaXQgdGhpcy5kYXRhTWFuYWdlci5pbml0aWFsaXplKCk7XG5cbiAgICAgICAgLy8gR2V0IGZvcm0gZGVmaW5pdGlvblxuICAgICAgICBjb25zdCBmb3JtRGVmaW5pdGlvbiA9IHRoaXMubW9kZWxNYW5hZ2VyLmdldEZvcm1EZWZpbml0aW9uKCk7XG4gICAgICAgIGlmICghZm9ybURlZmluaXRpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIk5vIGZvcm0gZGVmaW5pdGlvbiBmb3VuZCBpbiB0YXNrIG9yIHdvcmtpdGVtIGRhdGFcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBhdmFpbGFibGUgZXZlbnRzXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IGF3YWl0IHRoaXMubW9kZWxNYW5hZ2VyLmdldFRhc2tFdmVudHMoKTtcblxuICAgICAgICAvLyBHZW5lcmF0ZSBhbmQgcmVuZGVyIGZvcm1cbiAgICAgICAgY29uc3QgZm9ybVN0cnVjdHVyZSA9IGF3YWl0IHRoaXMuZm9ybU1hbmFnZXIucGFyc2VGb3JtRGVmaW5pdGlvbihcbiAgICAgICAgICAgIGZvcm1EZWZpbml0aW9uXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZm9ybU1hbmFnZXIucmVuZGVyRm9ybShmb3JtU3RydWN0dXJlLCB0aGlzLmNvbnRhaW5lcklkLCBldmVudHMpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgSW1peHNGb3JtQ29udHJvbGxlciB9O1xuIiwgIi8vIERhdGFNYW5hZ2VyLmpzXG5leHBvcnQgY2xhc3MgRGF0YU1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIC8vIFBhcnNlIFVSTCBwYXJhbWV0ZXJzIGZvciBjb21tb24gd29ya2Zsb3cgcGFyYW1ldGVyc1xuICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgYmFzZSBjb25maWd1cmF0aW9uXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgYmFzZVVybDogY29uZmlnLmJhc2VVcmwgfHwgXCIvYXBpXCIsXG4gICAgICAgICAgICBjcmVkZW50aWFsczogY29uZmlnLmNyZWRlbnRpYWxzIHx8IHt9LFxuICAgICAgICAgICAgd29ya2Zsb3dFbmRwb2ludDogY29uZmlnLndvcmtmbG93RW5kcG9pbnQgfHwgXCJ3b3JrZmxvdy93b3JraXRlbVwiLFxuICAgICAgICAgICAgbW9ja01vZGU6IGNvbmZpZy5tb2NrTW9kZSB8fCBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTdG9yZSB3b3JraXRlbSBJRCBpZiBwcmVzZW50XG4gICAgICAgIHRoaXMud29ya2l0ZW1JZCA9IHVybFBhcmFtcy5nZXQoXCJ3b3JraXRlbVwiKTtcblxuICAgICAgICAvLyBJZiBubyB3b3JraXRlbSBJRCwgdXNlIGRpcmVjdCBwYXJhbWV0ZXJzXG4gICAgICAgIGlmICghdGhpcy53b3JraXRlbUlkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5tb2RlbHZlcnNpb24gPVxuICAgICAgICAgICAgICAgIHVybFBhcmFtcy5nZXQoXCJtb2RlbHZlcnNpb25cIikgfHwgY29uZmlnLm1vZGVsdmVyc2lvbiB8fCBcIjEuMC4wXCI7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy50YXNraWQgPVxuICAgICAgICAgICAgICAgIHVybFBhcmFtcy5nZXQoXCJ0YXNraWRcIikgfHwgY29uZmlnLnRhc2tpZCB8fCBcIjEwMDBcIjtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmV2ZW50aWQgPVxuICAgICAgICAgICAgICAgIHVybFBhcmFtcy5nZXQoXCJldmVudGlkXCIpIHx8IGNvbmZpZy5ldmVudGlkIHx8IFwiMTBcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFhNTCBuYW1lc3BhY2VzIHJlcXVpcmVkIGZvciBJbWl4cy1Xb3JrZmxvd1xuICAgICAgICB0aGlzLm5hbWVzcGFjZXMgPSB7XG4gICAgICAgICAgICB4c2k6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcIixcbiAgICAgICAgICAgIHhzOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hXCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBYTUwgZG9jdW1lbnQgaG9sZGVyc1xuICAgICAgICB0aGlzLnRhc2tYTUwgPSBudWxsOyAvLyBDdXJyZW50IEJQTU4gdGFzayBkZWZpbml0aW9uXG4gICAgICAgIHRoaXMuZXZlbnRzWE1MID0gbnVsbDsgLy8gQXZhaWxhYmxlIGV2ZW50cyBmb3IgY3VycmVudCB0YXNrXG4gICAgICAgIHRoaXMud29ya2l0ZW1YTUwgPSBudWxsOyAvLyBDdXJyZW50IHdvcmtpdGVtIGRhdGEgKGlmIGV4aXN0cylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgRGF0YU1hbmFnZXIgYnkgbG9hZGluZyBuZWNlc3NhcnkgZGF0YVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIGFzeW5jIGluaXRpYWxpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLndvcmtpdGVtSWQpIHtcbiAgICAgICAgICAgIC8vIExvYWQgZXhpc3Rpbmcgd29ya2l0ZW1cbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFdvcmtpdGVtKHRoaXMud29ya2l0ZW1JZCk7XG5cbiAgICAgICAgICAgIC8vIEV4dHJhY3QgbW9kZWx2ZXJzaW9uIGFuZCB0YXNraWQgZnJvbSB3b3JraXRlbVxuICAgICAgICAgICAgdGhpcy5jb25maWcubW9kZWx2ZXJzaW9uID0gdGhpcy5nZXRJdGVtVmFsdWUoXG4gICAgICAgICAgICAgICAgXCIkbW9kZWx2ZXJzaW9uXCIsXG4gICAgICAgICAgICAgICAgdGhpcy53b3JraXRlbVhNTFxuICAgICAgICAgICAgKT8udmFsdWU7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy50YXNraWQgPSB0aGlzLmdldEl0ZW1WYWx1ZShcbiAgICAgICAgICAgICAgICBcIiR0YXNraWRcIixcbiAgICAgICAgICAgICAgICB0aGlzLndvcmtpdGVtWE1MXG4gICAgICAgICAgICApPy52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBlbXB0eSB3b3JraXRlbSBkb2N1bWVudCBmb3IgbmV3IHByb2Nlc3Nlc1xuICAgICAgICAgICAgdGhpcy53b3JraXRlbVhNTCA9IHRoaXMuY3JlYXRlRG9jdW1lbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvYWQgdGFzayBkZWZpbml0aW9uXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFRhc2tEZWZpbml0aW9uKCk7XG5cbiAgICAgICAgLy8gTG9hZCBhdmFpbGFibGUgZXZlbnRzXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFRhc2tFdmVudHMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGUgY3VycmVudCB0YXNrIGRlZmluaXRpb25cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxEb2N1bWVudD59IFRhc2sgZGVmaW5pdGlvbiBYTUxcbiAgICAgKi9cbiAgICBhc3luYyBsb2FkVGFza0RlZmluaXRpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmdldEFwaVVybChcbiAgICAgICAgICAgICAgICBgbW9kZWwvJHt0aGlzLmNvbmZpZy5tb2RlbHZlcnNpb259L3Rhc2tzLyR7dGhpcy5jb25maWcudGFza2lkfT9mb3JtYXQ9eG1sJml0ZW1zPW5hbWUsZGF0YW9iamVjdHMsd29ya2Zsb3cuYWJzdHJhY3QsZG9jdW1lbnRhdGlvbmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZmV0Y2hEYXRhKHVybCk7XG4gICAgICAgICAgICBjb25zdCB4bWxUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuXG4gICAgICAgICAgICB0aGlzLnRhc2tYTUwgPSB0aGlzLnBhcnNlWE1MU3RyaW5nKHhtbFRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFza1hNTDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHRhc2sgZGVmaW5pdGlvbjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhdmFpbGFibGUgZXZlbnRzIGZvciBjdXJyZW50IHRhc2tcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxEb2N1bWVudD59IEV2ZW50cyBYTUxcbiAgICAgKi9cbiAgICBhc3luYyBsb2FkVGFza0V2ZW50cygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHRoaXMuZ2V0QXBpVXJsKFxuICAgICAgICAgICAgICAgIGBtb2RlbC8ke3RoaXMuY29uZmlnLm1vZGVsdmVyc2lvbn0vdGFza3MvJHt0aGlzLmNvbmZpZy50YXNraWR9L2V2ZW50cz9mb3JtYXQ9eG1sJml0ZW1zPWV2ZW50aWQsd29ya2Zsb3cucHVibGljLG5hbWVgXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoRGF0YSh1cmwpO1xuICAgICAgICAgICAgY29uc3QgeG1sVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcblxuICAgICAgICAgICAgdGhpcy5ldmVudHNYTUwgPSB0aGlzLnBhcnNlWE1MU3RyaW5nKHhtbFRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzWE1MO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgdGFzayBldmVudHM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgYSB3b3JraXRlbSBieSBpdHMgdW5pcXVlaWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdW5pcXVlSWQgLSBUaGUgdW5pcXVlaWQgb2YgdGhlIHdvcmtpdGVtXG4gICAgICogQHJldHVybnMge1Byb21pc2U8RG9jdW1lbnQ+fSBXb3JraXRlbSBYTUxcbiAgICAgKi9cbiAgICBhc3luYyBsb2FkV29ya2l0ZW0odW5pcXVlSWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHRoaXMuZ2V0QXBpVXJsKGB3b3JrZmxvdy93b3JraXRlbS8ke3VuaXF1ZUlkfWApO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoRGF0YSh1cmwpO1xuICAgICAgICAgICAgY29uc3QgeG1sVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcblxuICAgICAgICAgICAgLy8gUGFyc2UgY29tcGxldGUgcmVzcG9uc2VcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxYTUwgPSB0aGlzLnBhcnNlWE1MU3RyaW5nKHhtbFRleHQpO1xuXG4gICAgICAgICAgICAvLyBFeHRyYWN0IGZpcnN0IGRvY3VtZW50IGVsZW1lbnRcbiAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGZ1bGxYTUwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkb2N1bWVudFwiKVswXTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBkb2N1bWVudCB3aXRoIGV4dHJhY3RlZCBlbGVtZW50IGFzIHJvb3RcbiAgICAgICAgICAgIGNvbnN0IGRvYyA9IHRoaXMuY3JlYXRlRG9jdW1lbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0RvY3VtZW50RWxlbWVudCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgICAgICAgICAgIC8vIENvcHkgYXR0cmlidXRlcyBhbmQgY29udGVudFxuICAgICAgICAgICAgZm9yIChsZXQgYXR0ciBvZiBkb2N1bWVudEVsZW1lbnQuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIG5ld0RvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0RvY3VtZW50RWxlbWVudC5pbm5lckhUTUwgPSBkb2N1bWVudEVsZW1lbnQuaW5uZXJIVE1MO1xuXG4gICAgICAgICAgICB0aGlzLndvcmtpdGVtWE1MID0gZG9jO1xuICAgICAgICAgICAgcmV0dXJuIGRvYztcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHdvcmtpdGVtOlwiLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgZm9ybSBkZWZpbml0aW9uIGZyb20gY3VycmVudCB0YXNrIG9yIHdvcmtpdGVtXG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBUaGUgZm9ybSBkZWZpbml0aW9uIFhNTCBvciBudWxsIGlmIG5vdCBmb3VuZFxuICAgICAqL1xuICAgIGdldEZvcm1EZWZpbml0aW9uKCkge1xuICAgICAgICBsZXQgZm9ybURlZmluaXRpb24gPSBudWxsO1xuXG4gICAgICAgIC8vIEZpcnN0IHRyeSB0byBnZXQgZm9ybSBkZWZpbml0aW9uIGZyb20gdGFza1xuICAgICAgICBpZiAodGhpcy50YXNrWE1MKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhT2JqZWN0cyA9IHRoaXMuZ2V0SXRlbVZhbHVlKFwiZGF0YW9iamVjdHNcIiwgdGhpcy50YXNrWE1MKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBkYXRhT2JqZWN0cyAmJlxuICAgICAgICAgICAgICAgIGRhdGFPYmplY3RzWzBdPy52YWx1ZSA9PT0gXCJGb3JtXCIgJiZcbiAgICAgICAgICAgICAgICBkYXRhT2JqZWN0c1sxXT8udmFsdWVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGZvcm1EZWZpbml0aW9uID0gZGF0YU9iamVjdHNbMV0udmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhcIkZvdW5kIGZvcm0gZGVmaW5pdGlvbiBpbiB0YXNrXCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHdvcmtpdGVtLCBzYXZlIHRoZSBmb3JtIGRlZmluaXRpb24gZm9yIGxhdGVyIHVzZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLndvcmtpdGVtWE1MKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SXRlbVZhbHVlKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eHR3b3JrZmxvd2VkaXRvcmN1c3RvbWZvcm1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EZWZpbml0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29ya2l0ZW1YTUxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhcIlNhdmVkIGZvcm0gZGVmaW5pdGlvbiB0byB3b3JraXRlbVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBubyB0YXNrIGRlZmluaXRpb24gZm91bmQsIHRyeSB3b3JraXRlbVxuICAgICAgICBpZiAoIWZvcm1EZWZpbml0aW9uICYmIHRoaXMud29ya2l0ZW1YTUwpIHtcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkRm9ybSA9IHRoaXMuZ2V0SXRlbVZhbHVlKFxuICAgICAgICAgICAgICAgIFwidHh0d29ya2Zsb3dlZGl0b3JjdXN0b21mb3JtXCIsXG4gICAgICAgICAgICAgICAgdGhpcy53b3JraXRlbVhNTFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChzYXZlZEZvcm0/LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZm9ybURlZmluaXRpb24gPSBzYXZlZEZvcm0udmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhcIkZvdW5kIGZvcm0gZGVmaW5pdGlvbiBpbiB3b3JraXRlbVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGZvdW5kLCB1bmVzY2FwZSB0aGUgY29udGVudFxuICAgICAgICBpZiAoZm9ybURlZmluaXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtRGVmaW5pdGlvblxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mbHQ7L2csIFwiPFwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mZ3Q7L2csIFwiPlwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mcXVvdDsvZywgJ1wiJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvJmFtcDsvZywgXCImXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYW4gSFRUUCByZXF1ZXN0IHdpdGggcHJvcGVyIGhlYWRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIFVSTCB0byBmZXRjaCBmcm9tXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBZGRpdGlvbmFsIGZldGNoIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxSZXNwb25zZT59IFRoZSBmZXRjaCByZXNwb25zZVxuICAgICAqL1xuICAgIGFzeW5jIGZldGNoRGF0YSh1cmwsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICAgICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL3htbFwiLFxuICAgICAgICAgICAgLi4uKG9wdGlvbnMuaGVhZGVycyB8fCB7fSksXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQWRkIGF1dGhvcml6YXRpb24gaWYgY3JlZGVudGlhbHMgYXJlIHByb3ZpZGVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5jcmVkZW50aWFscy51c2VybmFtZSkge1xuICAgICAgICAgICAgaGVhZGVycy5BdXRob3JpemF0aW9uID1cbiAgICAgICAgICAgICAgICBcIkJhc2ljIFwiICtcbiAgICAgICAgICAgICAgICBidG9hKFxuICAgICAgICAgICAgICAgICAgICBgJHt0aGlzLmNvbmZpZy5jcmVkZW50aWFscy51c2VybmFtZX06JHt0aGlzLmNvbmZpZy5jcmVkZW50aWFscy5wYXNzd29yZH1gXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGNvbXBsZXRlIFVSTCBmb3IgYSB3b3JrZmxvdyBBUEkgZW5kcG9pbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFRoZSBwYXRoIHRvIGFwcGVuZCB0byB0aGUgYmFzZSBVUkxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tcGxldGUgVVJMXG4gICAgICovXG4gICAgZ2V0QXBpVXJsKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuY29uZmlnLmJhc2VVcmx9LyR7cGF0aH1gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhbiBYTUwgc3RyaW5nIGludG8gYW4gWE1MIERvY3VtZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHhtbFN0cmluZyAtIFRoZSBYTUwgc3RyaW5nIHRvIHBhcnNlXG4gICAgICogQHJldHVybnMge0RvY3VtZW50fSBUaGUgcGFyc2VkIFhNTCBEb2N1bWVudFxuICAgICAqL1xuICAgIHBhcnNlWE1MU3RyaW5nKHhtbFN0cmluZykge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgIHJldHVybiBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHhtbFN0cmluZywgXCJ0ZXh0L3htbFwiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGRvY3VtZW50IGVsZW1lbnQgd2l0aCByZXF1aXJlZCBuYW1lc3BhY2VzXG4gICAgICogQHJldHVybnMge0RvY3VtZW50fSBUaGUgbmV3IFhNTCBkb2N1bWVudFxuICAgICAqL1xuICAgIGNyZWF0ZURvY3VtZW50KCkge1xuICAgICAgICBjb25zdCB4bWxTdHJpbmcgPVxuICAgICAgICAgICAgJzw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgc3RhbmRhbG9uZT1cInllc1wiPz5cXG4nICtcbiAgICAgICAgICAgICc8ZG9jdW1lbnQgeG1sbnM6eHNpPVwiJyArXG4gICAgICAgICAgICB0aGlzLm5hbWVzcGFjZXMueHNpICtcbiAgICAgICAgICAgICdcIiAnICtcbiAgICAgICAgICAgICd4bWxuczp4cz1cIicgK1xuICAgICAgICAgICAgdGhpcy5uYW1lc3BhY2VzLnhzICtcbiAgICAgICAgICAgICdcIi8+JztcblxuICAgICAgICBjb25zdCBkb2MgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHhtbFN0cmluZywgXCJ0ZXh0L3htbFwiKTtcbiAgICAgICAgcmV0dXJuIGRvYztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiBhbiBpdGVtXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGl0ZW1OYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGl0ZW1cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IFtjb250ZXh0XSAtIE9wdGlvbmFsIGNvbnRleHQgKGRvY3VtZW50IG5vZGUpXG4gICAgICogQHJldHVybnMge09iamVjdH0gVmFsdWUgYW5kIHR5cGUgb2YgdGhlIGl0ZW1cbiAgICAgKi9cbiAgICBnZXRJdGVtVmFsdWUoaXRlbU5hbWUsIGNvbnRleHQgPSB0aGlzLnhtbERvYykge1xuICAgICAgICBjb25zdCBpdGVtRWxlbWVudCA9IGNvbnRleHQucXVlcnlTZWxlY3RvcihgaXRlbVtuYW1lPVwiJHtpdGVtTmFtZX1cIl1gKTtcbiAgICAgICAgaWYgKCFpdGVtRWxlbWVudCkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgY29uc3QgdmFsdWVzID0gQXJyYXkuZnJvbShcbiAgICAgICAgICAgIGl0ZW1FbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidmFsdWVcIilcbiAgICAgICAgKS5tYXAoKHZhbHVlRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHZhbHVlRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ4c2k6dHlwZVwiKTtcblxuICAgICAgICAgICAgLy8gSGFuZGxlIHhtbEl0ZW0gdHlwZSBzcGVjaWFsbHlcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBcInhtbEl0ZW1cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5lc3RlZFZhbHVlcyA9IEFycmF5LmZyb20oXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlRWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInZhbHVlXCIpXG4gICAgICAgICAgICAgICAgKS5tYXAoKG5lc3RlZCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5lc3RlZC50ZXh0Q29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbmVzdGVkLmdldEF0dHJpYnV0ZShcInhzaTp0eXBlXCIpLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmVzdGVkVmFsdWVzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEZsYXR0ZW4gYXJyYXkgaWYgaXQgY29udGFpbnMgeG1sSXRlbSB2YWx1ZXNcbiAgICAgICAgY29uc3QgZmxhdFZhbHVlcyA9IHZhbHVlcy5mbGF0KCk7XG5cbiAgICAgICAgLy8gSWYgb25seSBvbmUgdmFsdWUgZXhpc3RzLCByZXR1cm4gaXQgZGlyZWN0bHlcbiAgICAgICAgcmV0dXJuIGZsYXRWYWx1ZXMubGVuZ3RoID09PSAxID8gZmxhdFZhbHVlc1swXSA6IGZsYXRWYWx1ZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgb2YgYW4gaXRlbVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpdGVtTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBpdGVtXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfGJvb2xlYW59IHZhbHVlIC0gVGhlIHZhbHVlIHRvIHNldFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZV0gLSBUaGUgZGF0YSB0eXBlIChvcHRpb25hbCwgYXV0b21hdGljYWxseSBkZXRlcm1pbmVkIGlmIG5vdCBwcm92aWRlZClcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IFtjb250ZXh0XSAtIE9wdGlvbmFsIGNvbnRleHQgKGRvY3VtZW50IG5vZGUpXG4gICAgICovXG4gICAgc2V0SXRlbVZhbHVlKGl0ZW1OYW1lLCB2YWx1ZSwgdHlwZSA9IG51bGwsIGNvbnRleHQgPSB0aGlzLndvcmtpdGVtWE1MKSB7XG4gICAgICAgIC8vIElmIG5vIHR5cGUgaXMgcHJvdmlkZWQsIGRldGVybWluZSBpdCBhdXRvbWF0aWNhbGx5XG4gICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgICAgdHlwZSA9IHRoaXMuX2RldGVybWluZVhNTFR5cGUodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGl0ZW1FbGVtZW50ID0gY29udGV4dC5xdWVyeVNlbGVjdG9yKGBpdGVtW25hbWU9XCIke2l0ZW1OYW1lfVwiXWApO1xuXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgaXRlbSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgICAgIGlmICghaXRlbUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGl0ZW1FbGVtZW50ID0gY29udGV4dC5jcmVhdGVFbGVtZW50KFwiaXRlbVwiKTtcbiAgICAgICAgICAgIGl0ZW1FbGVtZW50LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgaXRlbU5hbWUpO1xuICAgICAgICAgICAgY29udGV4dC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoaXRlbUVsZW1lbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIGNsZWFyIGl0cyBjb250ZW50XG4gICAgICAgICAgICBpdGVtRWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSB2YWx1ZVxuICAgICAgICBjb25zdCB2YWx1ZUVsZW1lbnQgPSBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoXCJ2YWx1ZVwiKTtcbiAgICAgICAgdmFsdWVFbGVtZW50LnNldEF0dHJpYnV0ZShcInhzaTp0eXBlXCIsIHR5cGUpO1xuXG4gICAgICAgIC8vIFRyaW0gdmFsdWUgYW5kIHJlbW92ZSBsaW5lIGJyZWFrcyBpZiBpdCdzIGEgc3RyaW5nXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlRWxlbWVudC50ZXh0Q29udGVudCA9IHZhbHVlO1xuXG4gICAgICAgIGl0ZW1FbGVtZW50LmFwcGVuZENoaWxkKHZhbHVlRWxlbWVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgWE1MIFNjaGVtYSB0eXBlIG9mIGEgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2FueX0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZGV0ZXJtaW5lZCBYTUwgU2NoZW1hIHR5cGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9kZXRlcm1pbmVYTUxUeXBlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiKSByZXR1cm4gXCJ4czpib29sZWFuXCI7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKSA/IFwieHM6aW50XCIgOiBcInhzOmRvdWJsZVwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcInhzOnN0cmluZ1wiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIGFsbCBkb2N1bWVudCBlbGVtZW50cyBmcm9tIHRoZSBYTUxcbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudFtdfSBBcnJheSBvZiBkb2N1bWVudCBlbGVtZW50c1xuICAgICAqL1xuICAgIGdldERvY3VtZW50cygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy54bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkb2N1bWVudFwiKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGFuIFhNTCBzdHJpbmcgZnJvbSBhIGRvY3VtZW50XG4gICAgICogQHBhcmFtIHtEb2N1bWVudH0geG1sRG9jIC0gVGhlIFhNTCBkb2N1bWVudCB0byBzZXJpYWxpemVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZ2VuZXJhdGVkIFhNTCBzdHJpbmdcbiAgICAgKi9cbiAgICB0b1hNTFN0cmluZyh4bWxEb2MpIHtcbiAgICAgICAgaWYgKCF4bWxEb2MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBYTUwgZG9jdW1lbnQgcHJvdmlkZWQgdG8gdG9YTUxTdHJpbmdcIik7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZXIgPSBuZXcgWE1MU2VyaWFsaXplcigpO1xuICAgICAgICByZXR1cm4gc2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpO1xuICAgIH1cbn1cbiIsICIvLyBNb2RlbE1hbmFnZXIuanNcbmV4cG9ydCBjbGFzcyBNb2RlbE1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKGRhdGFNYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuZGF0YU1hbmFnZXIgPSBkYXRhTWFuYWdlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHRoZSBCUE1OIG1vZGVsIGRhdGEgZm9yIGEgc3BlY2lmaWMgdGFza1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPERvY3VtZW50Pn0gVGFzayBkZWZpbml0aW9uIGRvY3VtZW50XG4gICAgICovXG4gICAgYXN5bmMgZ2V0VGFza0RlZmluaXRpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5kYXRhTWFuYWdlci5sb2FkVGFza0RlZmluaXRpb24oKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB0YXNrIGRlZmluaXRpb246XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhdmFpbGFibGUgZXZlbnRzIGZvciBhIHNwZWNpZmljIHRhc2tcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IExpc3Qgb2YgYXZhaWxhYmxlIGV2ZW50c1xuICAgICAqL1xuICAgIGFzeW5jIGdldFRhc2tFdmVudHMoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRhdGFNYW5hZ2VyLmxvYWRUYXNrRXZlbnRzKCk7XG5cbiAgICAgICAgICAgIC8vIEdldCBhbGwgZG9jdW1lbnRzIChldmVudHMpIGFuZCB0cmFuc2Zvcm0gdGhlbSBpbnRvIGV2ZW50IG9iamVjdHNcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YU1hbmFnZXIuZXZlbnRzWE1MLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZG9jdW1lbnRcIilcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAubWFwKChkb2NFbGVtZW50KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBldmVudGlkOiB0aGlzLmRhdGFNYW5hZ2VyLmdldEl0ZW1WYWx1ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZXZlbnRpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICApPy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5kYXRhTWFuYWdlci5nZXRJdGVtVmFsdWUoXCJuYW1lXCIsIGRvY0VsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICA/LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcIndvcmtmbG93LnB1YmxpY1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTWFuYWdlci5nZXRJdGVtVmFsdWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3b3JrZmxvdy5wdWJsaWNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NFbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICApPy52YWx1ZSA9PT0gXCJ0cnVlXCIsXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoZXZlbnQpID0+IGV2ZW50Lm5hbWUgJiYgZXZlbnRbXCJ3b3JrZmxvdy5wdWJsaWNcIl0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHRhc2sgZXZlbnRzOlwiLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZvcm0gZGVmaW5pdGlvbiBmcm9tIHRoZSBjdXJyZW50IHRhc2sgb3Igd29ya2l0ZW1cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IFRoZSBmb3JtIGRlZmluaXRpb24gWE1MIG9yIG51bGwgaWYgbm90IGZvdW5kXG4gICAgICovXG4gICAgZ2V0Rm9ybURlZmluaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFNYW5hZ2VyLmdldEZvcm1EZWZpbml0aW9uKCk7XG4gICAgfVxufVxuIiwgIi8vIEZvcm1NYW5hZ2VyLmpzXG5leHBvcnQgY2xhc3MgRm9ybU1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKGRhdGFNYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuZGF0YU1hbmFnZXIgPSBkYXRhTWFuYWdlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBYTUwgZm9ybSBkZWZpbml0aW9uIGludG8gYSBzdHJ1Y3R1cmVkIGZvcm1hdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB4bWxTdHJpbmcgLSBUaGUgWE1MIGZvcm0gZGVmaW5pdGlvbiBzdHJpbmdcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IEZvcm0gc3RydWN0dXJlIGFycmF5XG4gICAgICovXG4gICAgYXN5bmMgcGFyc2VGb3JtRGVmaW5pdGlvbih4bWxTdHJpbmcpIHtcbiAgICAgICAgY29uc3QgeG1sRG9jID0gdGhpcy5kYXRhTWFuYWdlci5wYXJzZVhNTFN0cmluZyh4bWxTdHJpbmcpO1xuICAgICAgICBjb25zdCBzZWN0aW9ucyA9IHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImltaXhzLWZvcm0tc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgZm9ybVN0cnVjdHVyZSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IHNlY3Rpb24gb2Ygc2VjdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25EYXRhID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBzZWN0aW9uLmdldEF0dHJpYnV0ZShcImxhYmVsXCIpLFxuICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gc2VjdGlvbi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIml0ZW1cIik7XG4gICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgc2VjdGlvbkRhdGEuaXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogaXRlbS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogaXRlbS5nZXRBdHRyaWJ1dGUoXCJsYWJlbFwiKSxcbiAgICAgICAgICAgICAgICAgICAgc3BhbjogcGFyc2VJbnQoaXRlbS5nZXRBdHRyaWJ1dGUoXCJzcGFuXCIpKSB8fCAxMixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcm1TdHJ1Y3R1cmUucHVzaChzZWN0aW9uRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm1TdHJ1Y3R1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGZvcm0gSFRNTCBiYXNlZCBvbiBmb3JtIHN0cnVjdHVyZSBhbmQgZXZlbnRzXG4gICAgICogQHBhcmFtIHtBcnJheX0gZm9ybVN0cnVjdHVyZSAtIFRoZSBmb3JtIHN0cnVjdHVyZSBhcnJheVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250YWluZXJJZCAtIFRoZSBjb250YWluZXIgZWxlbWVudCBJRFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGV2ZW50cyAtIE9wdGlvbmFsIGFycmF5IG9mIHdvcmtmbG93IGV2ZW50c1xuICAgICAqL1xuICAgIHJlbmRlckZvcm0oZm9ybVN0cnVjdHVyZSwgY29udGFpbmVySWQsIGV2ZW50cyA9IFtdKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklkKTtcbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgYENvbnRhaW5lciBlbGVtZW50IHdpdGggaWQgJyR7Y29udGFpbmVySWR9JyBub3QgZm91bmRgXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xuICAgICAgICBmb3JtLmNsYXNzTmFtZSA9IFwiaW1peHMtZm9ybVwiO1xuXG4gICAgICAgIC8vIEJ1aWxkIGFuZCBhcHBlbmQgdGhlIGhlYWRlclxuICAgICAgICB0aGlzLl9idWlsZEhlYWRlcihmb3JtKTtcblxuICAgICAgICAvLyBSZW5kZXIgZm9ybSBzZWN0aW9uc1xuICAgICAgICBmb3JtU3RydWN0dXJlLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgc2VjdGlvbkRpdi5jbGFzc05hbWUgPSBcImltaXhzLWZvcm0tc2VjdGlvblwiO1xuXG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgICAgICAgICBzZWN0aW9uVGl0bGUudGV4dENvbnRlbnQgPSBzZWN0aW9uLmxhYmVsO1xuICAgICAgICAgICAgc2VjdGlvbkRpdi5hcHBlbmRDaGlsZChzZWN0aW9uVGl0bGUpO1xuXG4gICAgICAgICAgICBjb25zdCBpdGVtc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBpdGVtc0NvbnRhaW5lci5jbGFzc05hbWUgPSBcImltaXhzLWZvcm0taXRlbXNcIjtcblxuICAgICAgICAgICAgc2VjdGlvbi5pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgaXRlbURpdi5jbGFzc05hbWUgPSBgaW1peHMtZm9ybS1pdGVtIHNwYW4tJHtpdGVtLnNwYW59YDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgICAgICAgICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gaXRlbS5sYWJlbDtcbiAgICAgICAgICAgICAgICBpdGVtRGl2LmFwcGVuZENoaWxkKGxhYmVsKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5fY3JlYXRlSW5wdXRFbGVtZW50KGl0ZW0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVmFsdWUgPSB0aGlzLmRhdGFNYW5hZ2VyLmdldEl0ZW1WYWx1ZShcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFNYW5hZ2VyLndvcmtpdGVtWE1MXG4gICAgICAgICAgICAgICAgKT8udmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBleGlzdGluZ1ZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpdGVtRGl2LmFwcGVuZENoaWxkKGlucHV0KTtcblxuICAgICAgICAgICAgICAgIGl0ZW1zQ29udGFpbmVyLmFwcGVuZENoaWxkKGl0ZW1EaXYpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNlY3Rpb25EaXYuYXBwZW5kQ2hpbGQoaXRlbXNDb250YWluZXIpO1xuICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChzZWN0aW9uRGl2KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQnVpbGQgYW5kIGFwcGVuZCBhY3Rpb24gYnV0dG9uc1xuICAgICAgICB0aGlzLl9idWlsZEFjdGlvbkJ1dHRvbnMoZm9ybSwgZXZlbnRzKTtcblxuICAgICAgICAvLyBCaW5kIHN1Ym1pdCBoYW5kbGVyXG4gICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gZS5zdWJtaXR0ZXI7XG4gICAgICAgICAgICBjb25zdCBldmVudElkID1cbiAgICAgICAgICAgICAgICBzdWJtaXRCdXR0b24/LmRhdGFzZXQ/LmV2ZW50aWQgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFNYW5hZ2VyLmNvbmZpZy5ldmVudGlkO1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0KGUsIGV2ZW50SWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZvcm0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyBhIHdvcmtpdGVtIGhlYWRlciB3aXRoIHN0YXR1cyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudCB3b3JraXRlbS5cbiAgICAgKlxuICAgICAqL1xuICAgIF9idWlsZEhlYWRlcihmb3JtKSB7XG4gICAgICAgIGxldCB0aXRsZSA9XG4gICAgICAgICAgICB0aGlzLmRhdGFNYW5hZ2VyLmdldEl0ZW1WYWx1ZShcbiAgICAgICAgICAgICAgICBcIiR3b3JrZmxvd2dyb3VwXCIsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhTWFuYWdlci53b3JraXRlbVhNTFxuICAgICAgICAgICAgKT8udmFsdWUgfHwgXCJcIjtcbiAgICAgICAgY29uc3Qgd29ya2Zsb3dTdGF0dXMgPVxuICAgICAgICAgICAgdGhpcy5kYXRhTWFuYWdlci5nZXRJdGVtVmFsdWUoXG4gICAgICAgICAgICAgICAgXCIkd29ya2Zsb3dzdGF0dXNcIixcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFNYW5hZ2VyLndvcmtpdGVtWE1MXG4gICAgICAgICAgICApPy52YWx1ZSB8fCBcIlwiO1xuXG4gICAgICAgIGlmICh3b3JrZmxvd1N0YXR1cyAhPSBcIlwiKSB7XG4gICAgICAgICAgICB0aXRsZSA9IHRpdGxlICsgXCIgLSBcIiArIHdvcmtmbG93U3RhdHVzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd29ya2Zsb3dTdW1tYXJ5ID1cbiAgICAgICAgICAgIHRoaXMuZGF0YU1hbmFnZXIuZ2V0SXRlbVZhbHVlKFxuICAgICAgICAgICAgICAgIFwiJHdvcmtmbG93c3VtbWFyeVwiLFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YU1hbmFnZXIud29ya2l0ZW1YTUxcbiAgICAgICAgICAgICk/LnZhbHVlIHx8IFwiXCI7XG5cbiAgICAgICAgLy8gaWYgbm8gdGl0bGUgd2FzIGZvdW5kIHRha2UgdGhlIHRhc2sgbmFtZVxuICAgICAgICBpZiAodGl0bGUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHRpdGxlID1cbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFNYW5hZ2VyLmdldEl0ZW1WYWx1ZShcIm5hbWVcIiwgdGhpcy5kYXRhTWFuYWdlci50YXNrWE1MKVxuICAgICAgICAgICAgICAgICAgICA/LnZhbHVlIHx8IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ3JvdXBIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgICAgIGdyb3VwSGVhZGVyLnRleHRDb250ZW50ID0gYCR7dGl0bGV9YDtcbiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChncm91cEhlYWRlcik7XG5cbiAgICAgICAgY29uc3Qgc3VtbWFyeUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBzdW1tYXJ5SGVhZGVyLnRleHRDb250ZW50ID0gYCR7d29ya2Zsb3dTdW1tYXJ5fWA7XG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoc3VtbWFyeUhlYWRlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSBhY3Rpb24gYnV0dG9ucyBmb3IgYSB3b3JraXRlbSBiYXNlZCBvbiB0aGUgQlBNTiBNb2RlbCBpbmZvcm1hdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBmb3JtXG4gICAgICogQHBhcmFtIHsqfSBldmVudHNcbiAgICAgKi9cbiAgICBfYnVpbGRBY3Rpb25CdXR0b25zKGZvcm0sIGV2ZW50cykge1xuICAgICAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBidXR0b25Db250YWluZXIuY2xhc3NOYW1lID0gXCJpbWl4cy1mb3JtLWJ1dHRvbnNcIjtcblxuICAgICAgICBldmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudCAmJiBldmVudFtcIndvcmtmbG93LnB1YmxpY1wiXSA9PT0gdHJ1ZSAmJiBldmVudC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgICAgICAgICBidXR0b24udHlwZSA9IFwic3VibWl0XCI7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFwiaW1peHMtc3VibWl0LWJ1dHRvblwiO1xuICAgICAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGV2ZW50Lm5hbWU7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmRhdGFzZXQuZXZlbnRpZCA9IGV2ZW50LmV2ZW50aWQ7XG4gICAgICAgICAgICAgICAgYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChldmVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIEFjdGlvbiBldmVudHMgZm91bmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGJ1dHRvbkNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGlucHV0IGVsZW1lbnQgYmFzZWQgb24gdHlwZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIC0gVGhlIGZvcm0gaXRlbSBjb25maWd1cmF0aW9uXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSBUaGUgY3JlYXRlZCBpbnB1dCBlbGVtZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlSW5wdXRFbGVtZW50KGl0ZW0pIHtcbiAgICAgICAgbGV0IGlucHV0O1xuICAgICAgICBzd2l0Y2ggKGl0ZW0udHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImh0bWxcIjpcbiAgICAgICAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjdXJyZW5jeVwiOlxuICAgICAgICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgICAgIGlucHV0LnR5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgIGlucHV0LnN0ZXAgPSBcIjAuMDFcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgICAgIGlucHV0LnR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dC5uYW1lID0gaXRlbS5uYW1lO1xuICAgICAgICBpbnB1dC5jbGFzc05hbWUgPSBcImltaXhzLWlucHV0XCI7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgZm9ybSBzdWJtaXNzaW9uXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgc3VibWl0IGV2ZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50SWQgLSBUaGUgd29ya2Zsb3cgZXZlbnQgSURcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFzeW5jIF9oYW5kbGVTdWJtaXQoZXZlbnQsIGV2ZW50SWQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZXZlbnQudGFyZ2V0KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIHdvcmtpdGVtXG4gICAgICAgICAgICB0aGlzLmRhdGFNYW5hZ2VyLnNldEl0ZW1WYWx1ZShcbiAgICAgICAgICAgICAgICBcIiRtb2RlbHZlcnNpb25cIixcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFNYW5hZ2VyLmNvbmZpZy5tb2RlbHZlcnNpb24sXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFNYW5hZ2VyLndvcmtpdGVtWE1MXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5kYXRhTWFuYWdlci5zZXRJdGVtVmFsdWUoXG4gICAgICAgICAgICAgICAgXCIkdGFza2lkXCIsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhTWFuYWdlci5jb25maWcudGFza2lkLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhTWFuYWdlci53b3JraXRlbVhNTFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YU1hbmFnZXIuc2V0SXRlbVZhbHVlKFxuICAgICAgICAgICAgICAgIFwiJGV2ZW50aWRcIixcbiAgICAgICAgICAgICAgICBldmVudElkLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhTWFuYWdlci53b3JraXRlbVhNTFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gQWRkIGZvcm0gZGF0YVxuICAgICAgICAgICAgZm9yIChsZXQgW25hbWUsIHZhbHVlXSBvZiBmb3JtRGF0YS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFNYW5hZ2VyLnNldEl0ZW1WYWx1ZShcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YU1hbmFnZXIud29ya2l0ZW1YTUxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBIYW5kbGUgbW9jayBtb2RlXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhTWFuYWdlci5jb25maWcubW9ja01vZGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZvcm0gRGF0YTpcIiwgT2JqZWN0LmZyb21FbnRyaWVzKGZvcm1EYXRhKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFdmVudCBJRDpcIiwgZXZlbnRJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeG1sU3RyaW5nID0gdGhpcy5kYXRhTWFuYWdlci50b1hNTFN0cmluZyhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTWFuYWdlci53b3JraXRlbVhNTFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJYTUwgRG9jdW1lbnQ6XCIsIHhtbFN0cmluZyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyRXZlbnQoXCJmb3JtU3VibWl0U3VjY2Vzc1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhOiBPYmplY3QuZnJvbUVudHJpZXMoZm9ybURhdGEpLFxuICAgICAgICAgICAgICAgICAgICB4bWxEb2N1bWVudDogeG1sU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICBldmVudElkOiBldmVudElkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2VuZCB0byBzZXJ2ZXJcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHRoaXMuZGF0YU1hbmFnZXIuZ2V0QXBpVXJsKFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YU1hbmFnZXIuY29uZmlnLndvcmtmbG93RW5kcG9pbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuZmV0Y2hEYXRhKHVybCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3htbFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keTogdGhpcy5kYXRhTWFuYWdlci50b1hNTFN0cmluZyhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTWFuYWdlci53b3JraXRlbVhNTFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUGFyc2UgdGhlIHJlc3BvbnNlIHRvIGdldCB0aGUgdW5pcXVlaWRcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdFhNTCA9IHRoaXMuZGF0YU1hbmFnZXIucGFyc2VYTUxTdHJpbmcocmVzdWx0KTtcblxuICAgICAgICAgICAgLy8gR2V0IHVuaXF1ZWlkIGZvciByZWRpcmVjdFxuICAgICAgICAgICAgY29uc3QgdW5pcXVlSWQgPSB0aGlzLmRhdGFNYW5hZ2VyLmdldEl0ZW1WYWx1ZShcbiAgICAgICAgICAgICAgICBcIiR1bmlxdWVpZFwiLFxuICAgICAgICAgICAgICAgIHJlc3VsdFhNTFxuICAgICAgICAgICAgKT8udmFsdWU7XG4gICAgICAgICAgICBpZiAodW5pcXVlSWQpIHtcbiAgICAgICAgICAgICAgICAvLyBDb25zdHJ1Y3QgbmV3IFVSTCB3aXRoIHdvcmtpdGVtIElEXG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJ3b3JraXRlbVwiLCB1bmlxdWVJZCk7XG5cbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdW5uZWNlc3NhcnkgcGFyYW1ldGVyc1xuICAgICAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKFwiZXZlbnRpZFwiKTtcbiAgICAgICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShcIm1vZGVsdmVyc2lvblwiKTtcbiAgICAgICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShcInRhc2tpZFwiKTtcblxuICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgc3VjY2VzcyBldmVudCBiZWZvcmUgcmVkaXJlY3RcbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyRXZlbnQoXCJmb3JtU3VibWl0U3VjY2Vzc1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlSWQsXG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0VXJsOiB1cmwudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIFBlcmZvcm0gcmVkaXJlY3RcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybC50b1N0cmluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTm8gdW5pcXVlaWQgZm91bmQgaW4gcmVzcG9uc2VcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckV2ZW50KFwiZm9ybVN1Ym1pdEVycm9yXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihcIk5vIHVuaXF1ZWlkIGZvdW5kIGluIHJlc3BvbnNlXCIpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlN1Ym1pdCBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckV2ZW50KFwiZm9ybVN1Ym1pdEVycm9yXCIsIHsgZXJyb3IgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIGEgY3VzdG9tIGV2ZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBFdmVudCBuYW1lXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRldGFpbCAtIEV2ZW50IGRldGFpbCBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90cmlnZ2VyRXZlbnQobmFtZSwgZGV0YWlsKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHsgZGV0YWlsIH0pO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG59XG4iLCAiLy8gRXJyb3JNYW5hZ2VyLmpzXG5leHBvcnQgY2xhc3MgRXJyb3JNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lcklkID0gY29uZmlnLmNvbnRhaW5lcklkIHx8IFwiZXJyb3ItY29udGFpbmVyXCI7XG4gICAgICAgIHRoaXMuX2Vuc3VyZUNvbnRhaW5lcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgY29udGFpbmVyIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9lbnN1cmVDb250YWluZXIoKSB7XG4gICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jb250YWluZXJJZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBjb250YWluZXIuaWQgPSB0aGlzLmNvbnRhaW5lcklkO1xuICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IFwiZXJyb3ItY29udGFpbmVyXCI7XG4gICAgICAgICAgICAvLyBJbnNlcnQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYm9keVxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoY29udGFpbmVyLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvd3MgYW4gZXJyb3IgbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVGhlIGVycm9yIG1lc3NhZ2UgdG8gZGlzcGxheVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zICh0eXBlLCB0aW1lb3V0KVxuICAgICAqL1xuICAgIHNob3dFcnJvcihtZXNzYWdlLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jb250YWluZXJJZCk7XG4gICAgICAgIGNvbnN0IGVycm9yQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgICAgICBlcnJvckJveC5jbGFzc05hbWUgPSBgZXJyb3ItYm94ICR7b3B0aW9ucy50eXBlIHx8IFwiZXJyb3JcIn1gO1xuXG4gICAgICAgIC8vIENyZWF0ZSBoZWFkZXIgd2l0aCB0aXRsZSBhbmQgY2xvc2UgYnV0dG9uXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGhlYWRlci5jbGFzc05hbWUgPSBcImVycm9yLWhlYWRlclwiO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIGNvbnN0IHRpdGxlVGV4dCA9XG4gICAgICAgICAgICBvcHRpb25zLnR5cGUgPT09IFwid2FybmluZ1wiXG4gICAgICAgICAgICAgICAgPyBcIldhcm5pbmdcIlxuICAgICAgICAgICAgICAgIDogb3B0aW9ucy50eXBlID09PSBcImluZm9cIlxuICAgICAgICAgICAgICAgID8gXCJJbmZvXCJcbiAgICAgICAgICAgICAgICA6IFwiRXJyb3JcIjtcbiAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZVRleHQ7XG4gICAgICAgIGhlYWRlci5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cbiAgICAgICAgY29uc3QgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBjbG9zZUJ1dHRvbi5pbm5lckhUTUwgPSBcIiZ0aW1lcztcIjtcbiAgICAgICAgY2xvc2VCdXR0b24ub25jbGljayA9ICgpID0+IGVycm9yQm94LnJlbW92ZSgpO1xuICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoY2xvc2VCdXR0b24pO1xuXG4gICAgICAgIGVycm9yQm94LmFwcGVuZENoaWxkKGhlYWRlcik7XG5cbiAgICAgICAgLy8gQWRkIG1lc3NhZ2VcbiAgICAgICAgY29uc3QgbWVzc2FnZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG1lc3NhZ2VEaXYuY2xhc3NOYW1lID0gXCJlcnJvci1tZXNzYWdlXCI7XG4gICAgICAgIG1lc3NhZ2VEaXYudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgICAgICBlcnJvckJveC5hcHBlbmRDaGlsZChtZXNzYWdlRGl2KTtcblxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZXJyb3JCb3gpO1xuXG4gICAgICAgIC8vIE9wdGlvbmFsIGF1dG8taGlkZVxuICAgICAgICBpZiAob3B0aW9ucy50aW1lb3V0KSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JCb3gucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvckJveC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBvcHRpb25zLnRpbWVvdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVycm9yQm94O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3dzIGEgd2FybmluZyBtZXNzYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgd2FybmluZyBtZXNzYWdlIHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEFkZGl0aW9uYWwgb3B0aW9uc1xuICAgICAqL1xuICAgIHNob3dXYXJuaW5nKG1lc3NhZ2UsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaG93RXJyb3IobWVzc2FnZSwgeyAuLi5vcHRpb25zLCB0eXBlOiBcIndhcm5pbmdcIiB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyBhbiBpbmZvIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFRoZSBpbmZvIG1lc3NhZ2UgdG8gZGlzcGxheVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zXG4gICAgICovXG4gICAgc2hvd0luZm8obWVzc2FnZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNob3dFcnJvcihtZXNzYWdlLCB7IC4uLm9wdGlvbnMsIHR5cGU6IFwiaW5mb1wiIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgZXJyb3IgbWVzc2FnZXNcbiAgICAgKi9cbiAgICBjbGVhckFsbCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jb250YWluZXJJZCk7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYW4gRXJyb3Igb2JqZWN0IGFuZCBkaXNwbGF5cyBhcHByb3ByaWF0ZSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgLSBUaGUgZXJyb3Igb2JqZWN0IHRvIGhhbmRsZVxuICAgICAqL1xuICAgIGhhbmRsZUVycm9yKGVycm9yKSB7XG4gICAgICAgIGxldCBtZXNzYWdlO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBlcnJvci5uYW1lID09PSBcIk5ldHdvcmtFcnJvclwiIHx8XG4gICAgICAgICAgICBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKFwiRmFpbGVkIHRvIGZldGNoXCIpXG4gICAgICAgICkge1xuICAgICAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgXCJOZXR3b3JrIGVycm9yOiBVbmFibGUgdG8gY29ubmVjdCB0byB0aGUgc2VydmVyLiBQbGVhc2UgY2hlY2sgeW91ciBjb25uZWN0aW9uLlwiO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJObyBmb3JtIGRlZmluaXRpb24gZm91bmRcIikpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIFwiTm8gZm9ybSBkZWZpbml0aW9uIGZvdW5kIGZvciB0aGUgc3BlY2lmaWVkIHRhc2suIFBsZWFzZSBjaGVjayBtb2RlbCB2ZXJzaW9uIGFuZCB0YXNrIElELlwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZSA9IGBBbiBlcnJvciBvY2N1cnJlZDogJHtlcnJvci5tZXNzYWdlfWA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNob3dFcnJvcihtZXNzYWdlKTtcbiAgICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiaWJBQUEsSUFBQUEsRUFBQSxHQUFBQyxFQUFBRCxFQUFBLHlCQUFBRSxJQ0NPLElBQU1DLEVBQU4sS0FBa0Is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QUFLLFlBQWFELENBQU0sQ0FDdkUsQ0FDSiIsCiAgIm5hbWVzIjogWyJJbWl4c0Zvcm1Db250cm9sbGVyX2V4cG9ydHMiLCAiX19leHBvcnQiLCAiSW1peHNGb3JtQ29udHJvbGxlciIsICJEYXRhTWFuYWdlciIsICJjb25maWciLCAidXJsUGFyYW1zIiwgInVybCIsICJ4bWxUZXh0IiwgImVycm9yIiwgInVuaXF1ZUlkIiwgImRvY3VtZW50RWxlbWVudCIsICJkb2MiLCAibmV3RG9jdW1lbnRFbGVtZW50IiwgImF0dHIiLCAiZm9ybURlZmluaXRpb24iLCAiZGF0YU9iamVjdHMiLCAic2F2ZWRGb3JtIiwgIm9wdGlvbnMiLCAiaGVhZGVycyIsICJyZXNwb25zZSIsICJwYXRoIiwgInhtbFN0cmluZyIsICJpdGVtTmFtZSIsICJjb250ZXh0IiwgIml0ZW1FbGVtZW50IiwgImZsYXRWYWx1ZXMiLCAidmFsdWVFbGVtZW50IiwgInR5cGUiLCAibmVzdGVkIiwgInZhbHVlIiwgInhtbERvYyIsICJNb2RlbE1hbmFnZXIiLCAiZGF0YU1hbmFnZXIiLCAiZXJyb3IiLCAiZG9jRWxlbWVudCIsICJldmVudCIsICJGb3JtTWFuYWdlciIsICJkYXRhTWFuYWdlciIsICJ4bWxTdHJpbmciLCAic2VjdGlvbnMiLCAiZm9ybVN0cnVjdHVyZSIsICJzZWN0aW9uIiwgInNlY3Rpb25EYXRhIiwgIml0ZW1zIiwgIml0ZW0iLCAiY29udGFpbmVySWQiLCAiZXZlbnRzIiwgImNvbnRhaW5lciIsICJmb3JtIiwgInNlY3Rpb25EaXYiLCAic2VjdGlvblRpdGxlIiwgIml0ZW1zQ29udGFpbmVyIiwgIml0ZW1EaXYiLCAibGFiZWwiLCAiaW5wdXQiLCAiZXhpc3RpbmdWYWx1ZSIsICJlIiwgImV2ZW50SWQiLCAidGl0bGUiLCAid29ya2Zsb3dTdGF0dXMiLCAid29ya2Zsb3dTdW1tYXJ5IiwgImdyb3VwSGVhZGVyIiwgInN1bW1hcnlIZWFkZXIiLCAiYnV0dG9uQ29udGFpbmVyIiwgImV2ZW50IiwgImJ1dHRvbiIsICJmb3JtRGF0YSIsICJuYW1lIiwgInZhbHVlIiwgInVybCIsICJyZXN1bHQiLCAicmVzdWx0WE1MIiwgInVuaXF1ZUlkIiwgImVycm9yIiwgImRldGFpbCIsICJFcnJvck1hbmFnZXIiLCAiY29uZmlnIiwgImNvbnRhaW5lciIsICJtZXNzYWdlIiwgIm9wdGlvbnMiLCAiZXJyb3JCb3giLCAiaGVhZGVyIiwgInRpdGxlIiwgInRpdGxlVGV4dCIsICJjbG9zZUJ1dHRvbiIsICJtZXNzYWdlRGl2IiwgImVycm9yIiwgIkltaXhzRm9ybUNvbnRyb2xsZXIiLCAiY29udGFpbmVySWQiLCAiY29uZmlnIiwgIkVycm9yTWFuYWdlciIsICJEYXRhTWFuYWdlciIsICJNb2RlbE1hbmFnZXIiLCAiRm9ybU1hbmFnZXIiLCAiZXJyb3IiLCAiZm9ybURlZmluaXRpb24iLCAiZXZlbnRzIiwgImZvcm1TdHJ1Y3R1cmUiXQp9Cg==
